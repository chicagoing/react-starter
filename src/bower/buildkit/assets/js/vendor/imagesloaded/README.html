<h1 id="imagesloaded">imagesLoaded</h1>

<p class="tagline">JavaScript is all like "You images done yet or what?"</p>

<p><a href="http://imagesloaded.desandro.com">imagesloaded.desandro.com</a></p>

<p>Detect when images have been loaded.</p>

<h2 id="install">Install</h2>

<h3 id="download">Download</h3>

<ul>
  <li><a href="https://npmcdn.com/imagesloaded@4/imagesloaded.pkgd.min.js">imagesloaded.pkgd.min.js</a> minified</li>
  <li><a href="https://npmcdn.com/imagesloaded@4/imagesloaded.pkgd.js">imagesloaded.pkgd.js</a> un-minified</li>
</ul>

<h3 id="cdn">CDN</h3>

<p><code>html
&lt;script src="https://npmcdn.com/imagesloaded@4.1/imagesloaded.pkgd.min.js"&gt;&lt;/script&gt;
&lt;!-- or --&gt;
&lt;script src="https://npmcdn.com/imagesloaded@4.1/imagesloaded.pkgd.js"&gt;&lt;/script&gt;
</code></p>

<h3 id="package-managers">Package managers</h3>

<p>Install via <a href="https://www.npmjs.com/package/imagesloaded">npm</a>: <code>npm install imagesloaded</code></p>

<p>Install via <a href="http://bower.io">Bower</a>: <code>bower install imagesloaded --save</code></p>

<h2 id="jquery">jQuery</h2>

<p>You can use imagesLoaded as a jQuery Plugin.</p>

<p>``` js
$('#container').imagesLoaded( function() {
  // images have loaded
});</p>

<p>// options
$('#container').imagesLoaded( {
  // options…
  },
  function() {
    // images have loaded
  }
);
```</p>

<p><code>.imagesLoaded()</code> returns a <a href="http://api.jquery.com/category/deferred-object/">jQuery Deferred object</a>. This allows you to use <code>.always()</code>, <code>.done()</code>, <code>.fail()</code> and <code>.progress()</code>.</p>

<p><code>js
$('#container').imagesLoaded()
  .always( function( instance ) {
    console.log('all images loaded');
  })
  .done( function( instance ) {
    console.log('all images successfully loaded');
  })
  .fail( function() {
    console.log('all images loaded, at least one is broken');
  })
  .progress( function( instance, image ) {
    var result = image.isLoaded ? 'loaded' : 'broken';
    console.log( 'image is ' + result + ' for ' + image.img.src );
  });
</code></p>

<h2 id="vanilla-javascript">Vanilla JavaScript</h2>

<p>You can use imagesLoaded with vanilla JS.</p>

<p><code>js
imagesLoaded( elem, callback )
// options
imagesLoaded( elem, options, callback )
// you can use `new` if you like
new imagesLoaded( elem, callback )
</code></p>

<ul>
  <li><code>elem</code> <em>Element, NodeList, Array, or Selector String</em></li>
  <li><code>options</code> <em>Object</em></li>
  <li><code>callback</code> <em>Function</em> - function triggered after all images have been loaded</li>
</ul>

<p>Using a callback function is the same as binding it to the <code>always</code> event (see below).</p>

<p><code>js
// element
imagesLoaded( document.querySelector('#container'), function( instance ) {
  console.log('all images are loaded');
});
// selector string
imagesLoaded( '#container', function() {...});
// multiple elements
var posts = document.querySelectorAll('.post');
imagesLoaded( posts, function() {...});
</code></p>

<p>Bind events with vanilla JS with .on(), .off(), and .once() methods.</p>

<p><code>js
var imgLoad = imagesLoaded( elem );
function onAlways( instance ) {
  console.log('all images are loaded');
}
// bind with .on()
imgLoad.on( 'always', onAlways );
// unbind with .off()
imgLoad.off( 'always', onAlways );
</code></p>

<h2 id="background">Background</h2>

<p>Detect when background images have loaded, in addition to <code>&lt;img&gt;</code>s.</p>

<p>Set <code>{ background: true }</code> to detect when the element's background image has loaded.</p>

<p>``` js
// jQuery
$('#container').imagesLoaded( { background: true }, function() {
  console.log('#container background image loaded');
});</p>

<p>// vanilla JS
imagesLoaded( '#container', { background: true }, function() {
  console.log('#container background image loaded');
});
```</p>

<p><a href="http://codepen.io/desandro/pen/pjVMPB">See jQuery demo</a> or <a href="http://codepen.io/desandro/pen/avKooW">vanilla JS demo</a> on CodePen.</p>

<p>Set to a selector string like <code>{ background: '.item' }</code> to detect when the background images of child elements have loaded.</p>

<p>``` js
// jQuery
$('#container').imagesLoaded( { background: '.item' }, function() {
  console.log('all .item background images loaded');
});</p>

<p>// vanilla JS
imagesLoaded( '#container', { background: '.item' }, function() {
  console.log('all .item background images loaded');
});
```</p>

<p><a href="http://codepen.io/desandro/pen/avKoZL">See jQuery demo</a> or <a href="http://codepen.io/desandro/pen/vNrBGz">vanilla JS demo</a> on CodePen.</p>

<h2 id="events">Events</h2>

<h3 id="always">always</h3>

<p>``` js
// jQuery
$('#container').imagesLoaded().always( function( instance ) {
  console.log('ALWAYS - all images have been loaded');
});</p>

<p>// vanilla JS
imgLoad.on( 'always', function( instance ) {
  console.log('ALWAYS - all images have been loaded');
});
```</p>

<p>Triggered after all images have been either loaded or confirmed broken.</p>

<ul>
  <li><code>instance</code> <em>imagesLoaded</em> - the imagesLoaded instance</li>
</ul>

<h3 id="done">done</h3>

<p>``` js
// jQuery
$('#container').imagesLoaded().done( function( instance ) {
  console.log('DONE  - all images have been successfully loaded');
});</p>

<p>// vanilla JS
imgLoad.on( 'done', function( instance ) {
  console.log('DONE  - all images have been successfully loaded');
});
```</p>

<p>Triggered after all images have successfully loaded without any broken images.</p>

<h3 id="fail">fail</h3>

<p>``` js
$('#container').imagesLoaded().fail( function( instance ) {
  console.log('FAIL - all images loaded, at least one is broken');
});</p>

<p>// vanilla JS
imgLoad.on( 'fail', function( instance ) {
  console.log('FAIL - all images loaded, at least one is broken');
});
```</p>

<p>Triggered after all images have been loaded with at least one broken image.</p>

<h3 id="progress">progress</h3>

<p><code>js
imgLoad.on( 'progress', function( instance, image ) {
  var result = image.isLoaded ? 'loaded' : 'broken';
  console.log( 'image is ' + result + ' for ' + image.img.src );
});
</code></p>

<p>Triggered after each image has been loaded.</p>

<ul>
  <li><code>instance</code> <em>imagesLoaded</em> - the imagesLoaded instance</li>
  <li><code>image</code> <em>LoadingImage</em> - the LoadingImage instance of the loaded image</li>
</ul>

<!-- sponsored -->

<h2 id="properties">Properties</h2>

<h3 id="loadingimageimg">LoadingImage.img</h3>

<p><em>Image</em> - The <code>img</code> element</p>

<h3 id="loadingimageisloaded">LoadingImage.isLoaded</h3>

<p><em>Boolean</em> - <code>true</code> when the image has succesfully loaded</p>

<h3 id="imagesloadedimages">imagesLoaded.images</h3>

<p>Array of <em>LoadingImage</em> instances for each image detected</p>

<p><code>js
var imgLoad = imagesLoaded('#container');
imgLoad.on( 'always', function() {
  console.log( imgLoad.images.length + ' images loaded' );
  // detect which image is broken
  for ( var i = 0, len = imgLoad.images.length; i &lt; len; i++ ) {
    var image = imgLoad.images[i];
    var result = image.isLoaded ? 'loaded' : 'broken';
    console.log( 'image is ' + result + ' for ' + image.img.src );
  }
});
</code></p>

<h2 id="browserify">Browserify</h2>

<p>imagesLoaded works with <a href="http://browserify.org/">Browserify</a>.</p>

<p><code>bash
npm install imagesloaded --save
</code></p>

<p>``` js
var imagesLoaded = require('imagesloaded');</p>

<p>imagesLoaded( elem, function() {…} );
```</p>

<p>Use <code>.makeJQueryPlugin</code> to make to use <code>.imagesLoaded()</code> jQuery plugin.</p>

<p>``` js
var $ = require('jquery');
var imagesLoaded = require('imagesloaded');</p>

<p>// provide jQuery argument
imagesLoaded.makeJQueryPlugin( $ );
// now use .imagesLoaded() jQuery plugin
$('#container').imagesLoaded( function() {…});
```</p>

<h2 id="webpack">Webpack</h2>

<p>Install imagesLoaded with npm.</p>

<p><code>bash
npm install imagesloaded
</code></p>

<p>You can then <code>require('imagesloaded')</code>.</p>

<p>``` js
// main.js
var imagesLoaded = require('imagesloaded');</p>

<p>imagesLoaded( '#container', function() {
  // images have loaded
});
```</p>

<p>Use <code>.makeJQueryPlugin</code> to make <code>.imagesLoaded()</code> jQuery plugin.</p>

<p>``` js
// main.js
var imagesLoaded = require('imagesloaded');
var $ = require('jquery');</p>

<p>// provide jQuery argument
imagesLoaded.makeJQueryPlugin( $ );
// now use .imagesLoaded() jQuery plugin
$('#container').imagesLoaded( function() {…});
```</p>

<p>Run webpack.</p>

<p><code>bash
webpack main.js bundle.js
</code></p>

<h2 id="requirejs">RequireJS</h2>

<p>imagesLoaded works with <a href="http://requirejs.org">RequireJS</a>.</p>

<p>You can require <a href="http://imagesloaded.desandro.com/imagesloaded.pkgd.js">imagesloaded.pkgd.js</a>.</p>

<p><code>js
requirejs( [
  'path/to/imagesloaded.pkgd.js',
], function( imagesLoaded ) {
  imagesLoaded( '#container', function() { ... });
});
</code></p>

<p>Use <code>.makeJQueryPlugin</code> to make <code>.imagesLoaded()</code> jQuery plugin.</p>

<p><code>js
requirejs( [
  'jquery',
  'path/to/imagesloaded.pkgd.js',
], function( $, imagesLoaded ) {
  // provide jQuery argument
  imagesLoaded.makeJQueryPlugin( $ );
  // now use .imagesLoaded() jQuery plugin
  $('#container').imagesLoaded( function() {...});
});
</code></p>

<p>You can manage dependencies with <a href="http://bower.io">Bower</a>. Set <code>baseUrl</code> to <code>bower_components</code> and set a path config for all your application code.</p>

<p>``` js
requirejs.config({
  baseUrl: 'bower_components/',
  paths: { // path to your app
    app: '../'
  }
});</p>

<p>requirejs( [
  'imagesloaded/imagesloaded',
  'app/my-component.js'
], function( imagesLoaded, myComp ) {
  imagesLoaded( '#container', function() { … });
});
```</p>

<h2 id="browser-support">Browser support</h2>

<ul>
  <li>IE9+</li>
  <li>Android 2.3+</li>
  <li>iOS Safari 4+</li>
  <li>All other modern browsers</li>
</ul>

<p>Use <a href="http://imagesloaded.desandro.com/v3/">imagesLoaded v3</a> for IE8 support.</p>

<h2 id="mit-license">MIT License</h2>

<p>imagesLoaded is released under the <a href="http://desandro.mit-license.org/">MIT License</a>. Have at it.</p>
